<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ma communaut√©</title>

  <style>
    /* üåó Th√®mes dynamiques */
    :root {
      --bg: #ffffff;
      --fg: #111111;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #111111;
        --fg: #eeeeee;
      }
    }

    :root[data-theme="light"] {
      --bg: #ffffff;
      --fg: #111111;
    }

    :root[data-theme="dark"] {
      --bg: #111111;
      --fg: #eeeeee;
    }

    /* üß± Mise en page */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: var(--bg);
      color: var(--fg);
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .wrap {
      width: 100%;
      min-height: 100vh;
      box-sizing: border-box;
      background: var(--bg);
      color: var(--fg);
    }

    .fb-page {
      width: 100% !important;
      max-width: 600px; /* limite sur grands √©crans */
      margin: 0 auto;
    }

    /* Lien visible si le plugin ne charge pas */
    .fallback a {
      color: var(--fg);
      text-decoration: none;
      font-weight: 500;
    }

    /* Transition douce lors du changement de th√®me */
    body, .wrap {
      transition: background 0.3s ease, color 0.3s ease;
    }
  </style>
</head>

<body>
  <div id="fb-root"></div>

  <div class="wrap">
    <div class="fb-page"
         data-href="https://www.facebook.com/OpenAI"
         data-tabs="timeline"
         data-width="100%"
         data-height=""
         data-adapt-container-width="true"
         data-small-header="false"
         data-hide-cover="true"
         data-show-facepile="true">
      <blockquote cite="https://www.facebook.com/OpenAI" class="fb-xfbml-parse-ignore">
        <p class="fallback"><a href="https://www.facebook.com/OpenAI">Voir la page Facebook</a></p>
      </blockquote>
    </div>
  </div>

  <script>
    // üåó Fonction appel√©e depuis .NET MAUI pour forcer le th√®me
    window.setTheme = function (theme) {
      if (theme === 'light' || theme === 'dark') {
        document.documentElement.setAttribute('data-theme', theme);
      } else {
        document.documentElement.removeAttribute('data-theme');
      }
    };

    // üîÑ Adapter la taille du widget
    function renderFb() {
      const el = document.querySelector('.fb-page');
      if (!el) return;
      el.setAttribute('data-width', Math.floor(document.documentElement.clientWidth));
      el.setAttribute('data-height', Math.floor(window.innerHeight));
      if (window.FB && FB.XFBML && FB.XFBML.parse) {
        FB.XFBML.parse();
      }
    }

    // üì¶ Appel√©e quand le SDK Facebook est pr√™t
    window.fbAsyncInit = function () {
      FB.init({ xfbml: true, version: 'v19.0' });
      renderFb();
    };

    // ‚öôÔ∏è Ajustements sur √©v√®nements
    window.addEventListener('load', renderFb);
    window.addEventListener('resize', renderFb);
    window.addEventListener('orientationchange', renderFb);
  </script>

  <!-- SDK Facebook -->
  <script async defer crossorigin="anonymous"
          src="https://connect.facebook.net/fr_FR/sdk.js#xfbml=1&version=v19.0">
  </script>
</body>
</html>
